<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register Modern</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f0f2f5, #e4e6eb);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .register-container {
      background: #ffffff;
      padding: 45px;
      border-radius: 18px;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .register-container h2 {
      text-align: center;
      margin-bottom: 30px;
      font-weight: 600;
      color: #1c1e21;
    }

    .form-control {
      width: 100%;
      padding: 14px 16px;
      margin-bottom: 18px;
      border-radius: 12px;
      border: 1px solid #dddfe2;
      font-size: 15px;
      background: #f5f6f7;
      transition: 0.3s;
    }

    .form-control:focus {
      background: #fff;
      border-color: #1877f2;
      box-shadow: 0 0 0 3px rgba(24, 119, 242, 0.15);
      outline: none;
    }

    .section-label {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      display: block;
      color: #606770;
    }

    .dob-selects {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .dob-selects select {
      flex: 1;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #dddfe2;
      background: #f5f6f7;
      font-size: 14px;
      transition: 0.3s;
    }

    .dob-selects select:focus {
      background: #fff;
      border-color: #1877f2;
      box-shadow: 0 0 0 3px rgba(24, 119, 242, 0.15);
      outline: none;
    }

    /* Gender Buttons */
    .gender-options {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .gender-options label {
      flex: 1;
      border: 1px solid #dddfe2;
      border-radius: 12px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      font-size: 14px;
      transition: 0.3s;
      background: #f5f6f7;
    }

    .gender-options input {
      display: none;
    }

    .gender-options input:checked+span {
      color: #1877f2;
      font-weight: 600;
    }

    .gender-options input:checked+span::before {
      background: #1877f2;
    }

    .gender-options span {
      position: relative;
      padding-left: 18px;
    }

    .gender-options span::before {
      content: "";
      position: absolute;
      left: 0;
      top: 4px;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #ccc;
      transition: 0.3s;
    }

    .btn-register {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #1877f2, #4267B2);
      color: white;
      transition: 0.3s;
    }

    .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(24, 119, 242, 0.3);
    }

    .login-link {
      display: block;
      text-align: center;
      font-size: 14px;
      margin-bottom: 18px;
      color: #1877f2;
      text-decoration: none;
    }

    .login-link:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>

  <form class="register-container" method="POST" action="/web-auth/register">
    <input name="username" class="form-control" placeholder="Username" required />
    <input name="password" type="password" class="form-control" placeholder="Password" required />
    <input name="full_name" class="form-control" placeholder="Full name" required />

    <input type="hidden" name="date_of_birth" id="date_of_birth" />

    <label class="section-label">Date of birth</label>
    <div class="dob-selects">
      <select name="day" required>
        <option value="">Day</option>
        <script>
          for (let i = 1; i <= 31; i++) {
            document.write(`<option value="${i}">${i}</option>`);
          }
        </script>
      </select>

      <select name="month" required>
        <option value="">Month</option>
        <option value="01">Jan</option>
        <option value="02">Feb</option>
        <option value="03">Mar</option>
        <option value="04">Apr</option>
        <option value="05">May</option>
        <option value="06">Jun</option>
        <option value="07">Jul</option>
        <option value="08">Aug</option>
        <option value="09">Sep</option>
        <option value="10">Oct</option>
        <option value="11">Nov</option>
        <option value="12">Dec</option>
      </select>

      <select name="year" required>
        <option value="">Year</option>
        <script>
          const currentYear = new Date().getFullYear();
          for (let y = currentYear; y >= 1950; y--) {
            document.write(`<option value="${y}">${y}</option>`);
          }
        </script>
      </select>
    </div>

    <label class="section-label">Gender</label>
    <div class="gender-options">
      <label>
        <input type="radio" name="gender" value="female" required />
        <span>Female</span>
      </label>

      <label>
        <input type="radio" name="gender" value="male" />
        <span>Male</span>
      </label>
    </div>

    <a href="/auth/login" class="login-link">Sudah punya akun? Login</a>

    <button type="submit" class="btn-register">Register</button>
  </form>


  <script>
    const form = document.querySelector(".register-container");

    form.addEventListener("submit", function (e) {
      const daySelect = document.querySelector("select[name='day']");
      const monthSelect = document.querySelector("select[name='month']");
      const yearSelect = document.querySelector("select[name='year']");

      const day = daySelect.value;
      const month = monthSelect.value;
      const year = yearSelect.value;

      if (!day || !month || !year) {
        alert("Please select complete date of birth");
        e.preventDefault();
        return;
      }

      const dob = `${year}-${month}-${day.padStart(2, "0")}`;
      document.getElementById("date_of_birth").value = dob;

      daySelect.removeAttribute("name");
      monthSelect.removeAttribute("name");
      yearSelect.removeAttribute("name");
    });
  </script>

</body>

</html>